[custom]
#================================================
# 1. å…¨å±€æ ‡å¿—
#================================================
udp_flag=true
tfo_flag=true

#================================================
# 2. åŸºç¡€ç­–ç•¥ç»„ (ç”¨äºåˆ†æµè§„åˆ™)
#================================================
custom_proxy_group=ğŸ¯ ç›´è¿`select`[]DIRECT
custom_proxy_group=â›” æ‹¦æˆª`select`[]REJECT

#================================================
# 3. æœ«ç«¯èŠ‚ç‚¹ç»„ (Level 3 - æŒ‰å‡ºå£ISP)
#    (CORRECTED: ä½¿ç”¨ \\ åŒé‡è½¬ä¹‰)
#================================================

# --- ğŸ‡­ğŸ‡° é¦™æ¸¯ ---
custom_proxy_group=ğŸ‡­ğŸ‡° BGP`select`.*(\\[BGP-B1\\]HKG|\\[BGP-B2\\]HKG).*
custom_proxy_group=ğŸ‡­ğŸ‡° HKBN`select`.*(\\[HKBN\\]HKG|\\[HKBN-E\\]HKG).*
custom_proxy_group=ğŸ‡­ğŸ‡° HKT`select`.*(\\[HKT\\]HKG|\\[HKT-G\\]HKG).*
custom_proxy_group=ğŸ‡­ğŸ‡° SMT`select`.*(\\[SMT\\]HKG|\\[SMT-5G\\]HKG).*
custom_proxy_group=ğŸ‡­ğŸ‡° HGC`select`.*(\\[HGC\\]HKG).*
custom_proxy_group=ğŸ‡­ğŸ‡° CMHK`select`.*(\\[CMHK-5G\\]HKG|\\[CMHK\\]HKG).*
custom_proxy_group=ğŸ‡­ğŸ‡° iCable`select`.*(\\[iCable\\]HKG).*

# --- ğŸ‡ºğŸ‡¸ ç¾å›½ ---
custom_proxy_group=ğŸ‡ºğŸ‡¸ ATT`select`.*(\\[ATT-R\\]LAX|\\[ATT-V\\]NYC|\\[ATT-B\\]USA).*
custom_proxy_group=ğŸ‡ºğŸ‡¸ COX`select`.*(\\[COX-S\\]LAX).*
custom_proxy_group=ğŸ‡ºğŸ‡¸ BGP`select`.*(\\[BGP-M\\]LAX|\\[BGP-B2\\]LAX).*
custom_proxy_group=ğŸ‡ºğŸ‡¸ Charter`select`.*(\\[Charter\\]USA).*
custom_proxy_group=ğŸ‡ºğŸ‡¸ Xfinity`select`.*(\\[Xfinity-5G\\]USA).*
custom_proxy_group=ğŸ‡ºğŸ‡¸ Fortex`select`.*(\\[Fortex\\]USA).*

# --- ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ ---
custom_proxy_group=ğŸ‡¸ğŸ‡¬ BGP`select`.*(\\[BGP-B1\\]SGP).*
custom_proxy_group=ğŸ‡¸ğŸ‡¬ MyRepublic`select`.*(\\[MyRepublic\\]SGP).*
custom_proxy_group=ğŸ‡¸ğŸ‡¬ SingTel`select`.*(\\[SingTel\\]SGP).*
custom_proxy_group=ğŸ‡¸ğŸ‡¬ M1`select`.*(\\[M1\\]SGP).*

# --- ğŸ‡¯ğŸ‡µ æ—¥æœ¬ ---
custom_proxy_group=ğŸ‡¯ğŸ‡µ SoNet`select`.*(\\[SoNet\\]TYO).*
custom_proxy_group=ğŸ‡¯ğŸ‡µ SoftBank`select`.*(\\[SB\\]TYO).*
custom_proxy_group=ğŸ‡¯ğŸ‡µ BIGLOBE`select`.*(\\[BIGLOBE\\]TYO).*
custom_proxy_group=ğŸ‡¯ğŸ‡µ Asahi`select`.*(\\[Asahi\\]TYO).*

# --- ğŸ‡¨ğŸ‡³ å°æ¹¾ ---
custom_proxy_group=ğŸ‡¨ğŸ‡³ HiNet`select`.*(\\[HiNet\\]TPE).*
custom_proxy_group=ğŸ‡¨ğŸ‡³ Kbro`select`.*(\\[Kbro\\]TPE).*
custom_proxy_group=ğŸ‡¨ğŸ‡³ SeedNet`select`.*(\\[SeedNet\\]TPE).*

# --- ğŸ‡©ğŸ‡ª å¾·å›½ ---
custom_proxy_group=ğŸ‡©ğŸ‡ª BGP`select`.*(\\[BGP-M\\]FRA|\\[BGP-B1\\]FRA).*

# --- ğŸ‡¬ğŸ‡§ è‹±å›½ ---
custom_proxy_group=ğŸ‡¬ğŸ‡§ BGP`select`.*(\\[BGP-B1\\]GBP).*

# --- ğŸ‡³ğŸ‡± è·å…° ---
custom_proxy_group=ğŸ‡³ğŸ‡± BGP`select`.*(\\[BGP-Q\\]AMS).*

# --- ğŸ‡²ğŸ‡´ æ¾³é—¨ ---
custom_proxy_group=ğŸ‡²ğŸ‡´ CTM`select`.*(\\[CTM\\]MAC).*

# --- ğŸ‡²ğŸ‡¾ é©¬æ¥è¥¿äºš ---
custom_proxy_group=ğŸ‡²ğŸ‡¾ TMNet`select`.*(\\[TMNet\\]KUL).*

# --- ğŸ‡¹ğŸ‡­ æ³°å›½ ---
custom_proxy_group=ğŸ‡¹ğŸ‡­ TRUE`select`.*(\\[TRUE\\]BKK).*

# --- ğŸ‡®ğŸ‡© å°å°¼ ---
custom_proxy_group=ğŸ‡®ğŸ‡© PT`select`.*(\\[PT\\]IDN).*


#================================================
# 4. å›½å®¶ç­–ç•¥ç»„ (Level 2 - æŒ‰å›½å®¶/åœ°åŒº)
#================================================

# --- ä¸»åŠ›åœ°åŒº ---
custom_proxy_group=ğŸ‡­ğŸ‡° HKG`select`[]ğŸ‡­ğŸ‡° BGP`[]ğŸ‡­ğŸ‡° HKBN`[]ğŸ‡­ğŸ‡° HKT`[]ğŸ‡­ğŸ‡° SMT`[]ğŸ‡­ğŸ‡° HGC`[]ğŸ‡­ğŸ‡° CMHK`[]ğŸ‡­ğŸ‡° iCable
custom_proxy_group=ğŸ‡ºğŸ‡¸ USA`select`[]ğŸ‡ºğŸ‡¸ ATT`[]ğŸ‡ºğŸ‡¸ COX`[]ğŸ‡ºğŸ‡¸ BGP`[]ğŸ‡ºğŸ‡¸ Charter`[]ğŸ‡ºğŸ‡¸ Xfinity`[]ğŸ‡ºğŸ‡¸ Fortex
custom_proxy_group=ğŸ‡¸ğŸ‡¬ SGP`select`[]ğŸ‡¸ğŸ‡¬ BGP`[]ğŸ‡¸ğŸ‡¬ MyRepublic`[]ğŸ‡¸ğŸ‡¬ SingTel`[]ğŸ‡¸ğŸ‡¬ M1
custom_proxy_group=ğŸ‡¯ğŸ‡µ JPN`select`[]ğŸ‡¯ğŸ‡µ SoNet`[]ğŸ‡¯ğŸ‡µ SoftBank`[]ğŸ‡¯ğŸ‡µ BIGLOBE`[]ğŸ‡¯ğŸ‡µ Asahi
custom_proxy_group=ğŸ‡¨ğŸ‡³ å°æ¹¾`select`[]ğŸ‡¨ğŸ‡³ HiNet`[]ğŸ‡¨ğŸ‡³ Kbro`[]ğŸ‡¨ğŸ‡³ SeedNet
custom_proxy_group=ğŸ‡©ğŸ‡ª DEU`select`[]ğŸ‡©ğŸ‡ª BGP

# --- å…¶ä»–åœ°åŒº (æ‰“åŒ…) ---
custom_proxy_group=ğŸ‡¬ğŸ‡§ GBR`select`[]ğŸ‡¬ğŸ‡§ BGP
custom_proxy_group=ğŸ‡³ğŸ‡± NLD`select`[]ğŸ‡³ğŸ‡± BGP
custom_proxy_group=ğŸ‡²ğŸ‡´ MAC`select`[]ğŸ‡²ğŸ‡´ CTM
custom_proxy_group=ğŸ‡²ğŸ‡¾ MYS`select`[]ğŸ‡²ğŸ‡¾ TMNet
custom_proxy_group=ğŸ‡¹ğŸ‡­ THA`select`[]ğŸ‡¹ğŸ‡­ TRUE
custom_proxy_group=ğŸ‡®ğŸ‡© IDN`select`[]ğŸ‡®ğŸ‡© PT

custom_proxy_group=ğŸ± å…¶ä»–åœ°åŒº`select`[]ğŸ‡¬ğŸ‡§ GBR`[]ğŸ‡³ğŸ‡± NLD`[]ğŸ‡²ğŸ‡´ MAC`[]ğŸ‡²ğŸ‡¾ MYS`[]ğŸ‡¹ğŸ‡­ THA`[]ğŸ‡®ğŸ‡© IDN


#================================================
# 5. é¡¶å±‚åŠŸèƒ½ç­–ç•¥ç»„ (Level 1 - æŒ‰åŠŸèƒ½)
#================================================
custom_proxy_group=ğŸƒ Proxies`select`[]ğŸ‡­ğŸ‡° HKG`[]ğŸ‡ºğŸ‡¸ USA`[]ğŸ‡¨ğŸ‡³ å°æ¹¾`[]ğŸ‡¯ğŸ‡µ JPN`[]ğŸ‡¸ğŸ‡¬ SGP`[]ğŸ‡©ğŸ‡ª DEU`[]ğŸ± å…¶ä»–åœ°åŒº
custom_proxy_group=ğŸ¥ Media`select`[]ğŸ‡­ğŸ‡° HKG`[]ğŸ‡ºğŸ‡¸ USA`[]ğŸ‡¨ğŸ‡³ å°æ¹¾`[]ğŸ‡¯ğŸ‡µ JPN`[]ğŸ‡¸ğŸ‡¬ SGP`[]ğŸ‡©ğŸ‡ª DEU`[]ğŸ± å…¶ä»–åœ°åŒº
custom_proxy_group=ğŸ¤– AI`select`[]ğŸ‡­ğŸ‡° HKG`[]ğŸ‡ºğŸ‡¸ USA`[]ğŸ‡¨ğŸ‡³ å°æ¹¾`[]ğŸ‡¯ğŸ‡µ JPN`[]ğŸ‡¸ğŸ‡¬ SGP`[]ğŸ‡©ğŸ‡ª DEU`[]ğŸ± å…¶ä»–åœ°åŒº
custom_proxy_group=ğŸ’³ PayPal`select`[]ğŸ‡­ğŸ‡° HKG`[]ğŸ‡ºğŸ‡¸ USA`[]ğŸ‡¨ğŸ‡³ å°æ¹¾`[]ğŸ‡¯ğŸ‡µ JPN`[]ğŸ‡¸ğŸ‡¬ SGP`[]ğŸ‡©ğŸ‡ª DEU`[]ğŸ± å…¶ä»–åœ°åŒº
custom_proxy_group=ğŸ“² Telegram`select`[]ğŸ‡­ğŸ‡° HKG`[]ğŸ‡ºğŸ‡¸ USA`[]ğŸ‡¨ğŸ‡³ å°æ¹¾`[]ğŸ‡¯ğŸ‡µ JPN`[]ğŸ‡¸ğŸ‡¬ SGP`[]ğŸ‡©ğŸ‡ª DEU`[]ğŸ± å…¶ä»–åœ°åŒº


#================================================
# 6. åˆ†æµè§„åˆ™
#================================================
enable_rule_generator=true
overwrite_original_rules=true

# blacklist
ruleset=â›” æ‹¦æˆª,https://ruleset.skk.moe/List/non_ip/sogouinput.conf

# non-ip
# internal
ruleset=ğŸ¯ ç›´è¿,https://ruleset.skk.moe/List/non_ip/lan.conf

# apple microsoft china
ruleset=ğŸ¯ ç›´è¿,https://ruleset.skk.moe/List/non_ip/apple_cdn.conf
ruleset=ğŸ¯ ç›´è¿,https://ruleset.skk.moe/List/non_ip/microsoft_cdn.conf
ruleset=ğŸ¯ ç›´è¿,https://ruleset.skk.moe/List/non_ip/apple_cn.conf

# apple microsoft not china
ruleset=ğŸƒ Proxies,https://ruleset.skk.moe/List/non_ip/apple_services.conf
ruleset=ğŸƒ Proxies,https://ruleset.skk.moe/List/non_ip/microsoft.conf

# netease music
ruleset=ğŸ¯ ç›´è¿,https://ruleset.skk.moe/List/non_ip/neteasemusic.conf

# domestic
ruleset=ğŸ¯ ç›´è¿,https://ruleset.skk.moe/List/non_ip/domestic.conf
ruleset=ğŸ¯ ç›´è¿,https://ruleset.skk.moe/List/non_ip/direct.conf

# Media
ruleset=ğŸ¥ Media,https://ruleset.skk.moe/List/non_ip/stream.conf

# Paypal
ruleset=ğŸ’³ PayPal,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PayPal/PayPal.list

# AI
ruleset=ğŸ¤– AI,https://ruleset.skk.moe/List/non_ip/ai.conf

# overseas
ruleset=ğŸƒ Proxies,https://ruleset.skk.moe/List/non_ip/global.conf

# ip
ruleset=ğŸ¯ ç›´è¿,https://ruleset.skk.moe/List/ip/lan.conf
ruleset=ğŸ¯ ç›´è¿,https://ruleset.skk.moe/List/ip/neteasemusic.conf
ruleset=ğŸ¯ ç›´è¿,https://ruleset.skk.moe/List/ip/domestic.conf
ruleset=ğŸ¯ ç›´è¿,https://ruleset.skk.moe/List/ip/china_ip.conf
ruleset=ğŸ¥ Media,https://ruleset.skk.moe/List/ip/stream.conf

# telegram
ruleset=ğŸ“² Telegram,https://ruleset.skk.moe/List/ip/telegram.conf

# FINAL (åŒ¹é…æ‰€æœ‰å‰©ä½™æµé‡)
ruleset=ğŸƒ Proxies,[]MATCH


#================================================
# 7. å…¶ä»–è®¾ç½® (Clash æ¨¡æ¿å‚æ•°)
#================================================
append_sub_userinfo=true
clash_use_new_field_name=true

[template]
clash.mixed_port=7890
clash.redir_port=7891
clash.allow_lan=true
clash.log_level=info
clash.api_port=0.0.0.0:9090
clash.tcp_fast_open=true


#================================================
# 8. ç”¨æˆ·ä¿¡æ¯ (ä¸å˜)
#================================================
[userinfo]
stream_rule=^å‰©ä½™æµé‡ï¼š(.*?)\|æ€»æµé‡ï¼š(.*)$|total=$2&left=$1
stream_rule=^å‰©ä½™æµé‡ï¼š(.*?) (.*)$|total=$1&left=$2
stream_rule=^Bandwidth: (.*?)/(.*)$|used=$1&total=$2
stream_rule=^\[.*?\]å‰©ä½™(.*?)@(?:.*)$|total=$1
stream_rule=^.*?æµé‡:(.*?) å‰©:(?:.*)$|total=$1
time_rule=^è¿‡æœŸæ—¶é—´ï¼š(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)$|$1:$2:$3:$4:$5:$6
time_rule=^åˆ°æœŸæ—¶é—´(:|ï¼š)(\d+)-(\d+)-(\d+)$|$1:$2:$3:0:0:0
time_rule=^Smart Access expire: (\d+)/(\d+)/(\d+)$|$1:$2:$3:0:0:0
time_rule=^.*?æ—¶é—´:(.*?)$|time=$1lkj
